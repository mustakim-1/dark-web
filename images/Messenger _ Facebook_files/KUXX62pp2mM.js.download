;/*FB_PKG_DELIM*/

__d("ReStoreDBCorruption",[],(function(a,b,c,d,e,f){"use strict";var g="Got unexpected undefined",h="ReStoreDBCorruption";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c,d=g+", table: "+b;c=a.call(this,d)||this;c.message=d;c.name=h;c.tableName=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=h;f.ReStoreDBCorruption=a}),66);
__d("MWPUncaughtErrorStateWithAction.react",["fbt","MWDeleteAllDBs","ReStoreDBCorruption","ReStoreDbVersionChange","ReStoreDecryptionFailure","ReStoreEARSetupFailure","asyncToGeneratorRuntime","cr:6883","emptyFunction","gkx","isArmadillo","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i,k=j.useCallback,l=j.useEffect,m=j.useMemo;function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield c("MWDeleteAllDBs")("error")});return n.apply(this,arguments)}var o={action:a,body:c("isArmadillo")?h._("__JHASH__ee6MA3uWv7t__JHASH__"):null,header:c("isArmadillo")?h._("__JHASH__ZtiWLX5ybEL__JHASH__"):null},p=(j={},j[d("ReStoreDBCorruption").ERROR_NAME]={action:function(){return b("cr:6883")&&b("cr:6883").deleteIndexedDB("error")}},j[d("ReStoreDbVersionChange").ERROR_NAME]={action:function(){},body:h._("__JHASH__GVy7XHUrKBw__JHASH__"),header:h._("__JHASH__yndRKuZ7kSc__JHASH__")},j);function q(a){if(a instanceof d("ReStoreDBCorruption").ReStoreDBCorruption)return p[d("ReStoreDBCorruption").ERROR_NAME];else if(!c("gkx")("24032")&&a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)return o;else if(a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure){if(!c("gkx")("24032"))return o}else if(a instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange)return p[d("ReStoreDbVersionChange").ERROR_NAME];else try{var b=a.messageFormat||"";for(var e in p){var f=a.name===e||b.includes(e);if(f)return p[e]}return{action:c("emptyFunction")}}catch(a){c("recoverableViolation")("Couldn't parse error message in MWPUncaughtErrorStateWithAction","messenger_web_product",a);return{action:c("emptyFunction")}}}function e(a){var e=a.canTriggerAutoReload,f=a.children,g=a.error,h=m(function(){return q(g)},[g]);a=k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield h==null?void 0:h.action(),window.location.reload(!0)})())},[h]);l(function(){e===!0&&(g instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange||g.name===d("ReStoreDbVersionChange").ERROR_NAME)&&document.visibilityState==="hidden"&&window.location.reload(!0)},[e,g]);return f(h==null?void 0:h.header,h==null?void 0:h.description,a)}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),226);
__d("MWUncaughtErrorState.react",["fbt","FBLogger","LSPlatformLsInitLog","MWXButton.react","MWXIcon.react","MWXTextPairing.react","ReStoreDbVersionChange","cr:1297","cr:5019","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m={button:{marginTop:"xqui205",$$css:!0}};function n(a){a instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange?c("FBLogger")("messenger_web_product").info(a.toString()):c("FBLogger")("messenger_web_product").catching(a).mustfix("Uncaught Error while loading chat: %s",a.toString())}function o(a){if(a instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange)return b("cr:5019")}function a(a){var e,f=a.buttonXstyle,g=a.description,j=a.error,p=a.header,q=a.level,r=a.onPress,s=a.showIcon;a=a.textAlign;l(function(){d("LSPlatformLsInitLog").addAnnotations({string:{uncaught_error:j.name}}),d("LSPlatformLsInitLog").fail("uncaught_error"),n(j)},[j]);p=(p=p)!=null?p:h._("__JHASH__zDCPMqKBaum__JHASH__");g=(g=g)!=null?g:h._("__JHASH__iQVounN-Hch__JHASH__");var t=c("useCurrentDisplayMode")();e=(e=o(j))!=null?e:b("cr:1297");t=k.jsx(c("MWXIcon.react"),{icon:t==="dark"&&e.dark!=null?e.dark:e["default"]});return k.jsxs(k.Fragment,{children:[s&&k.jsx("div",{className:"xieb3on",children:t}),k.jsx(c("MWXTextPairing.react"),{body:g,bodyColor:"secondary",headline:p,level:q?q:2,textAlign:a?a:"center"}),k.jsx("div",{className:(i||(i=c("stylex")))(m.button,f),children:k.jsx(c("MWXButton.react"),{label:h._("__JHASH__PnVpnKg9Gg___JHASH__"),onPress:r,padding:"wide",size:36})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWInboxErrorState.react",["CometContentArea.react","MWPUncaughtErrorStateWithAction.react","MWUncaughtErrorState.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mdsRoot:{backgroundColor:"x2bj2ny",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1dr59a3",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function a(a){var b=a.canTriggerAutoReload,d=a.error;a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,c("gkx")("23219")&&k.mdsRoot,a),children:j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k xaikfu8 x1p5oq8j xxbr6pl xwxc41k xbbxn1n",children:j.jsx(c("MWPUncaughtErrorStateWithAction.react"),{canTriggerAutoReload:b,error:d,children:function(a,b,e){return j.jsx(c("MWUncaughtErrorState.react"),{description:b,error:d,header:a,onPress:e,showIcon:!0})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);