;/*FB_PKG_DELIM*/

__d("BaseInfiniteScrollList.react",["BaseScrollableAreaContext","CometDialogContext","CometInfiniteScrollTrigger.react","CometScrollableArea.react","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=a.forceBrowserDefault,d=a.items,e=a.loadingIndicator,f=a.onScroll,g=a.onScrollBottom,h=a.onScrollTop,k=a.renderItem,l=a.role,m=a.testid;m=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["forceBrowserDefault","items","loadingIndicator","onScroll","onScrollBottom","onScrollTop","renderItem","role","testid","xstyle"]);var n=j(c("CometDialogContext")),o=j(c("BaseScrollableAreaContext"));n==null&&o.length>0&&c("FBLogger")("comet_ui").blameToPreviousFrame().warn("For XPlat React compatibility, BaseInfiniteScrollList should not be nested inside scrollable containers such as BaseScrollableArea with the same orientation. It may cause unexpected behaviors and break infinite scroll in React Native platforms.");return i.jsxs(c("CometScrollableArea.react"),{forceBrowserDefault:b,horizontal:!1,onScroll:f,onScrollBottom:g,onScrollTop:h,role:l,testid:void 0,xstyle:m,children:[d.map(k),i.jsx(c("CometInfiniteScrollTrigger.react"),babelHelpers["extends"]({},a,{children:e}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSClearDiscoverableChatsParticipantsAndRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(248).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(249).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure",["LSClearDiscoverableChatsParticipantsAndRanges","cr:8709"],(function(a,b,c,d,e,f,g){function a(a){return c("LSClearDiscoverableChatsParticipantsAndRanges")(a)}g["default"]=a}),98);
__d("LSUpsertDiscoverableChatsParticipantsRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(249).put({threadId:a[0],minName:"",source:a[4],maxName:a[5],isLoadingBefore:!1,isLoadingAfter:a[2],hasMoreBefore:!1,hasMoreAfter:a[1],nextPageCursor:a[3]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSFetchDiscoverableChatParticipants",["LSIssueNewTask","LSUpsertDiscoverableChatsParticipantsRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(d){return c.storedProcedure(b("LSUpsertDiscoverableChatsParticipantsRanges"),a[0],!1,!0,"",a[2],a[3])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[2]=d[6])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("cursor",a[1]),d[4].set("source",a[2]),d[4].set("sync_group",d[2]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"fetch_discoverable_chat_participant_list",c.i64.cast([0,110006]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchDiscoverableChatParticipantsStoredProcedure",["LSFetchDiscoverableChatParticipants","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.cursor;d[2]=b.source;d[3]=b.maxName;return c("LSFetchDiscoverableChatParticipants").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSFetchOTCEligibleEBDevicesV2",["LSIssueNewEbTaskAndGetTaskIDV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return c.forEach(c.db.table(261).fetch(),function(a){return a["delete"]()})},function(a){return d[0]="",c.forEach(c.filter(c.db.table(261).fetch([[[d[0]]]]),function(a){return a.deviceId===d[0]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(261).add({deviceId:d[0],authorityLevel:c.i64.cast([0,20])})},function(a){return d[1]=new c.Map(),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_fetch_otc_eligible_devices",c.i64.cast([0,50028]),d[2],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchOTCEligibleEBDevicesV2StoredProcedure",["LSFetchOTCEligibleEBDevicesV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a){return c("LSFetchOTCEligibleEBDevicesV2")(a)}g["default"]=a}),98);
__d("MAWEncryptedBackupsRestoreDialogContexts_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWEncryptedBackupsRestoreDialogContexts_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupsDismissalDialogContextProvider.react",["MWChatEncryptedBackupsDismissalDialogContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useState;function a(a){var b=a.children;a=a.isDismissedDisabledValue;a=k(a);var d=a[0],e=a[1];a=j(function(){return{isDismissedDisabled:d,setIsDismissedDisabled:e}},[d]);return i.jsx(c("MWChatEncryptedBackupsDismissalDialogContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react",["MWChatEncryptedBackupsSetIsDialogPersistedContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.children,d=a.setIsDialogPersisted;a=j(function(){return{setIsDialogPersisted:d}},[d]);return d!=null?i.jsx(c("MWChatEncryptedBackupsSetIsDialogPersistedContext").Provider,{value:a,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEncryptedBackupsOTCEligibleDevicesContextProvider.react",["MWEncryptedBackupsOTCEligibleDevicesContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useState;function a(a){a=a.children;var b=k(!0),c=b[0],e=b[1];b=k(!0);var f=b[0],g=b[1];b=k([]);var h=b[0],l=b[1];b=j(function(){return{failedToFetchOtcDevices:f,isFetchOtcDevicesInFlight:c,otcEligibleDevices:h,setFailedToFetchOtcDevices:g,setIsFetchOtcDevicesInFlight:e,setOtcEligibleDevices:l}},[f,c,h]);return i.jsx(d("MWEncryptedBackupsOTCEligibleDevicesContext.react").MWEncryptedBackupsOTCEligibleDevicesContext.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEncryptedBackupsRestoreDialogContexts.react",["CometRelay","CometTransientDialogProvider.react","MAWEncryptedBackupsRestoreDialogContexts_query.graphql","MWChatEncryptedBackupsDismissalDialogContextProvider.react","MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react","MWChatEncryptedBackupsVestaUserInfoContext.react","MWChatEncryptedBackupsVirtualDevicesContextProvider.react","MWEBFlowSourceContextProvider.react","MWEncryptedBackupsOTCEligibleDevicesContextProvider.react","react","useMWChatEncryptedBackupsVestaUserInfo","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo;function a(a){var e,f=a.children,g=a.query,i=a.setIsDialogPersisted;a=a.source;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MAWEncryptedBackupsRestoreDialogContexts_query.graphql"),g);e=(e=g.viewer.messenger_default_encrypted_backup)==null?void 0:e.vesta_user_info;var l=c("useMWChatEncryptedBackupsVestaUserInfo")({vestaGetUserInfoResponse$key:e});e=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")({encryptedBackup:g.xfb_backup});e=e.getVirtualDevices;e=e();var m=e.offlineDevicesCount;e=e.vestaClientID;var n=k(function(){return{attemptsRemaining:l.attemptsRemaining,loginTimeoutRemainingSecs:l.loginTimeoutRemainingSecs,vestaClientID:null}},[l.attemptsRemaining,l.loginTimeoutRemainingSecs]);return j.jsx(c("MWChatEncryptedBackupsVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:(g=(g=g.xfb_backup)==null?void 0:g.has_otc_eligible_devices)!=null?g:void 0,offlineDevicesCountInitialValue:m,vestaClientIDInitialValue:e,children:j.jsx(c("MWEBFlowSourceContextProvider.react"),{source:a,children:j.jsx(c("MWChatEncryptedBackupsDismissalDialogContextProvider.react"),{isDismissedDisabledValue:!1,children:j.jsx(c("MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react"),{setIsDialogPersisted:function(a){i==null?void 0:i(a)},children:j.jsx(d("MWChatEncryptedBackupsVestaUserInfoContext.react").VestaUserInfoContext.Provider,{value:n,children:j.jsx(c("MWEncryptedBackupsOTCEligibleDevicesContextProvider.react"),{children:j.jsx(c("CometTransientDialogProvider.react"),{children:f})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSInfiniteScrollList.react",["BaseInfiniteScrollList.react","MDSScrollableAreaStyles","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return i.jsx(c("BaseInfiniteScrollList.react"),babelHelpers["extends"]({forceBrowserDefault:!0,xstyle:[c("MDSScrollableAreaStyles").unthemed,b]},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsAutoRestoreConsentStepDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsAutoRestoreConsentStep.react").__setRef("MWChatEncryptedBackupsAutoRestoreConsentStepDeferred.react"));function a(a){return i.jsx(j,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsRingIndeterminateIcon.react",["CometHeroHoldTrigger.react","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={large:{minHeight:"x1zwvfr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",$$css:!0},small:{minHeight:"x1edz59j",$$css:!0}};function a(a){a=a.size;a=a===void 0?"large":a;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.root,k[a]),children:[j.jsx(c("CometHeroHoldTrigger.react"),{description:"MWEBRingSpinner",hold:!0}),j.jsx(c("MWXSpinner.react"),{color:"blue",size:60})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBQPOneTimeCode.react",["ix","CometImageFromIXValue.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");b=j.forwardRef(a);function a(a,b){var d=a.alt;a=a.xstyle;var e=k?h("421460"):h("421458");return j.jsx(c("CometImageFromIXValue.react"),{alt:d,ref:b,source:e,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("PAKEClientTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({PAKE_TEST:-1,ENCRYPTED_BACKUPS:0});f["default"]=a}),66);
__d("useMWAbandonRestoreConfirmationDialog",["fbt","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","gkx","react","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback;function a(a){var b=c("useMWXConfirmationDialog")(),e=c("gkx")("23219");return j(function(){b({body:e?h._("__JHASH__igJ7_fPkBWf__JHASH__"):h._("__JHASH__mJ4KzCvoneV__JHASH__"),confirm:h._("__JHASH__NclomsdgTqa__JHASH__"),title:h._("__JHASH__Lc-TiofSivN__JHASH__")},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"DONT_RESTORE_CONFIRMATION_CLICK"),a==null?void 0:a()},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"DONT_RESTORE_CANCEL_CLICK")})},[b,e,a])}g["default"]=a}),226);
__d("MWEBRestoreDialog.react",["InteractionTracing.xplat","MAWEncryptedBackupsRestoreStep.react","MAWPinCodeGating","MWChatEncryptedBackupsDismissalDialogContext","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsRingIndeterminateIcon.react","MWChatEncryptedBackupsVirtualDevicesContext.react","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsForgotPinStep","MWEncryptedBackupsForgotRCStep","MWEncryptedBackupsOtcRestoreSteps","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXMultiStepDialog.react","PAKECleanupSessionReasonEnum","PAKEClientTypeEnum","QPLUserFlow","cr:2274","cr:5458","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWAbandonRestoreConfirmationDialog","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=c("requireDeferred")("CleanupPakeSession").__setRef("MWEBRestoreDialog.react"),p=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreDialog.react");function a(a){var e=a.addDeferUpsellQplAnnotation,f=a.cancellable;f=f===void 0?!0:f;var g=a.onClose,i=a.onDismissUpsell,q=n(!1),r=(h||(h=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var s=a.startFlow,t=c("useMWEBFlowSourceContext")();a=l(c("MWChatEncryptedBackupsDismissalDialogContext"));var u=a.isDismissedDisabled,v=a.setIsDismissedDisabled;a=l(c("MWChatEncryptedBackupsVirtualDevicesContext.react"));var w=a.virtualDeviceInfo;a=k(function(){i==null?void 0:i(),d("MWChatEncryptedBackupsLogging").closeDialogCancelFlow({event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,onClose:function(){return g()}}),w.doesUserHaveOtcEligibleDevices===!0&&o.onReady(function(a){c("promiseDone")(a({cleanupReason:c("PAKECleanupSessionReasonEnum").FLOW_ABANDONED,clientType:c("PAKEClientTypeEnum").ENCRYPTED_BACKUPS,deviceId:d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId(),storage:r}))})},[i,w.doesUserHaveOtcEligibleDevices,g,r]);var x=c("useMWAbandonRestoreConfirmationDialog")(a),y=function(){e==null?void 0:e(),g()},z=b("cr:5458")==null?void 0:b("cr:5458")(),A=w.vestaClientID!=null;m(function(){q.current||(q.current=!0,d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:r,onFetch:function(a){var b=a.ebsmWiped,e=a.firstUpsellTime,f=a.hasEbKeysLocally,g=a.hasEBSM,h=a.hasPDB,i=a.hasUserRestoredBefore;a=a.hasUserRestoredBeforeTemp;var j=t();s({additionalAnnotations:{eb_session_identifier:e,ebsm_wiped:b,has_eb_keys_locally:f,has_ebsm:g,has_pdb:h,has_user_restored_before:i,has_user_restored_before_temp:a,restore_upsell_first_impression_time:e},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:j});j===c("MWChatEncryptedBackupsQPLSource.enum").INBOX_INTERSTITIAL_SOFTBLOCK&&(c("InteractionTracing.xplat").getPendingInteractions().forEach(function(a){a.addAnnotationBoolean("eb_soft_block",!0)}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"INBOX_SOFTBLOCK_RESTORE_SCREEN"));c("promiseDone")(p.load(),function(a){return a(f)})}}))},[t,s,r]);return j.jsx(c("MWXMultiStepDialog.react"),{onClose:u?function(){}:x,size:"small",withCloseButton:f,children:function(a){if(w.offlineDevicesCount===-1)return j.jsx(c("MWChatEncryptedBackupsRingIndeterminateIcon.react"),{});var e=z!=null?z.onPushAutoRestoreConsentPage(a,y):g,f=b("cr:2274")!=null?function(){return b("cr:2274")(g,a)}:g;return j.jsx(c("MAWEncryptedBackupsRestoreStep.react"),{clientID:d("MAWPinCodeGating").isPinCodeEnabled()&&A?w.vestaClientID:null,offlineDevicesCount:w.offlineDevicesCount,onChooseOtc:w.doesUserHaveOtcEligibleDevices?function(){return d("MWEncryptedBackupsOtcRestoreSteps").pushByOneTimeCodePage({onOtcComplete:z!=null?z.onPushAutoRestoreConsentPage(a,f):b("cr:2274")!=null?function(){v(!0),b("cr:2274")(g,a)}:g,pushPage:a})}:null,onClose:x,onComplete:e,onForgotPin:function(){d("MWEncryptedBackupsForgotPinStep").pushForgotPinPage({offlineDeviceCount:w.offlineDevicesCount,onClose:g,onComplete:y,pushPage:a})},onForgotRC:function(){d("MWEncryptedBackupsForgotRCStep").pushForgotRCPage({onClose:g,onComplete:y,pushPage:a})},pushPage:a,shouldShowForgotButton:!0})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFetchOTCEligibleEBDevices",["FBLogger","LSAuthorityLevel","LSFactory","LSFetchOTCEligibleEBDevicesV2StoredProcedure","LSIntEnum","ReQL","ReQLSuspense","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState,o=c("gkx")("24064");function a(){var a=(h||(h=c("useReStore")))(),b=m(!1),e=n(!1),g=e[0],j=e[1];e=n(!1);var p=e[0],q=e[1];e=n(!1);var r=e[0],s=e[1];e=n(!1);var t=e[0],u=e[1];e=n([]);var v=e[0],w=e[1],x=d("ReQLSuspense").useArray(function(){return g?d("ReQL").fromTableAscending(a.tables.encrypted_backups_otc_devices):d("ReQL").empty()},[g,a],f.id+":49"),y=k(function(){return a.runInTransaction(function(a){return c("LSFetchOTCEligibleEBDevicesV2StoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":58")},[a]),z=k(function(){q(!0),s(!1),c("promiseDone")(y(),function(){j(!0)},function(){c("FBLogger")("labyrinth_web").mustfix("Failed to fetch OTC eligible devices")})},[y]);l(function(){if(b.current!==!0)b.current=!0,z();else if(g){var a=x.length>0&&(i||(i=d("LSIntEnum"))).toNumber(x[0].authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC;if(!a){q(!1);j(!1);a=x[0];a=a.deviceId==="-1";if(a){s(!0);c("FBLogger")("labyrinth_web").mustfix("Encrypted Backups OTC: Failed to fetch otc eligible devices.");return}a=x.filter(function(a){return(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel)!==c("LSAuthorityLevel").OPTIMISTIC&&a.deviceId!==""});w(a);u(a.length>0||o)}}},[y,g,x,z]);return{doesUserHaveOtcEligibleDevices:t,failedToFetchOtcDevices:r,isFetchOtcDevicesInFlight:p,otcEligibleDevices:v,triggerFetchOtcEligibleDevices:z}}g["default"]=a}),98);
__d("usePakeInitiatorManager",["FBLogger","PakeCpaceWasm","Promise","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=c("requireDeferred")("establishPakeHandshakeAsInitiator").__setRef("usePakeInitiatorManager"),n=3e4;function a(a){var e=a.onGeneralFailure,f=a.onMaxAttemptsReached,g=a.onNoSessionExists,i=a.onSessionExpired,o=a.onSuccessfulSecretDecryption,p=a.onWrongOtc,q=a.timeout,r=q===void 0?n:q,s=a.clientType,t=c("useAsyncReStore")(),u=l(null),v=l(function(){}),w=l(function(){}),x=l(null),y=l(!1);k(function(){y.current===!1&&(y.current=!0,c("promiseDone")(d("PakeCpaceWasm").PakeCPaceWasm().then(function(a){x.current=a}),void 0,function(){c("FBLogger")("labyrinth_web").mustfix("PAKE: Error loading WASM module")}));return function(){var a;w.current();(a=u.current)==null?void 0:a["delete"]();v.current()}},[]);return{establishPakeHandshakeAsInitiator:j(function(a){return(h||(h=b("Promise"))).all([t,m.load()]).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b[0];b=b[1];b=(yield b({clientType:s,onGeneralFailure:e,onMaxAttemptsReached:f,onNoSessionExists:g,onSessionExpired:i,onSuccessfulSecretDecryption:o,onWrongOtc:p,otc:a,pakeCpaceModule:x.current,storage:c,timeout:r}));c=b.pakeClient;var d=b.stopTimeout;b=b.unsubFromMessagesTable;u.current=c;v.current=d;w.current=b});return function(a){return c.apply(this,arguments)}}())},[s,t,e,f,g,i,o,p,r])}}g["default"]=a}),98);
__d("MWEncryptedBackupsInsertOTCStep.react",["fbt","EBSMGating","FBLogger","FocusRegion.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBQPOneTimeCode.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsOTCEligibleDevicesContext.react","MWXColumn.react","MWXColumnItem.react","MWXDialogPageLegacy.react","MWXLink.react","MWXMultiStepDialogHeader.react","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","PAKEClientTypeEnum","QPLUserFlow","focusScopeQueries","gkx","promiseDone","react","requireDeferred","useFetchOTCEligibleEBDevices","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","usePakeInitiatorManager","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useRef,p=b.useState,q=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWEncryptedBackupsInsertOTCStep.react"),r=c("requireDeferred")("MWEncrypedBackupsSendOTCNotifications").__setRef("MWEncryptedBackupsInsertOTCStep.react"),s=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("MWEncryptedBackupsInsertOTCStep.react"),t=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("MWEncryptedBackupsInsertOTCStep.react"),u=c("requireDeferred")("deserializeSecretsAndAddDevice").__setRef("MWEncryptedBackupsInsertOTCStep.react"),v="chat-encrypted-backups-dialog-layout-second-step",w=6,x=c("gkx")("23219"),y=c("gkx")("20861"),z=function(){return h._("__JHASH__lBlURV9iIv0__JHASH__")},A=function(){return h._("__JHASH__rIH_-tfv2x2__JHASH__")},B=function(){return h._("__JHASH__WypD50Gdi03__JHASH__")},C=function(){return h._("__JHASH__7uRJ4wtXcoz__JHASH__")},D=function(){return h._("__JHASH__XUu1h3R4qPj__JHASH__")},E=function(){return h._("__JHASH__ndaWq552FSK__JHASH__")},F=function(){return h._("__JHASH__WoNRZZnIdhP__JHASH__")};function a(a){var b=a.onComplete,e=a.onViewAllDevices;a=p(!1);var f=a[0],g=a[1],j=o(!1),G=o(!1),H=o(function(){}),I=o(function(){});a=p(null);var J=a[0],K=a[1],L=(i||(i=c("useReStore")))();a=c("useFetchOTCEligibleEBDevices")();var M=a.failedToFetchOtcDevices,N=a.isFetchOtcDevicesInFlight,O=a.otcEligibleDevices,P=a.triggerFetchOtcEligibleDevices;a=m(d("MWEncryptedBackupsOTCEligibleDevicesContext.react").MWEncryptedBackupsOTCEligibleDevicesContext);var Q=a.setFailedToFetchOtcDevices,R=a.setIsFetchOtcDevicesInFlight,S=a.setOtcEligibleDevices,T=c("useMWEBFlowSourceContext")(),U=m(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;n(function(){return function(){H.current(),I.current()}},[]);n(function(){j.current===!1&&(j.current=!0,r.onReady(function(a){a=a.sendOTCNotifications;c("promiseDone")(a({db:L,onFailure:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_SEND_NOTIFICATION_FAILURE"),K(E())},otcEligibleDevices:[]}),function(a){H.current=a},function(){c("FBLogger")("labyrinth_web").mustfix("OTC: Send otc notifications sproc failed."),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_SEND_NOTIFICATION_FAILURE"),K(E())})})),R(N),S(O),Q(M)},[L,M,N,O,Q,R,S]);a=c("usePakeInitiatorManager")({clientType:c("PAKEClientTypeEnum").ENCRYPTED_BACKUPS,onGeneralFailure:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_API_FAILURE"),K(D()),G.current=!0,g(!1),U==null?void 0:U(!1)},[U]),onMaxAttemptsReached:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_MAX_ATTEMPTS_REACHED"),K(B()),G.current=!0,g(!1)},[]),onNoSessionExists:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_NO_SESSION"),K(A()),G.current=!0,g(!1)},[]),onSessionExpired:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SESSION_EXPIRED"),K(C()),G.current=!0,g(!1)},[]),onSuccessfulSecretDecryption:l(function(a){var e=a.decryptedSecret,f=a.initiatorId;U==null?void 0:U(!0);c("promiseDone")(u.load(),function(a){c("promiseDone")(a({db:L,initiatorId:f,onAddDeviceFailure:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_ADD_DEVICE_FAILURE"),K(D()),G.current=!0,g(!1),U==null?void 0:U(!1)},onAddDeviceFinish:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_ADD_DEVICE_FINISHED"),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),t.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:L,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))}),q.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;c("gkx")("2249")&&b(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}),b(),g(!1),s.onReady(function(a){a=a.encryptedBackupsFetchBackupIds;a(L)["catch"](function(a){return c("FBLogger")("labyrinth_web").mustfix("OTC Restore: Error when fetching backup ids, %s",a)})})},secrets:e}),function(a){I.current=a})})},[L,b,U]),onWrongOtc:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_INCORRECT_CODE"),K(z()),G.current=!0,g(!1)},[])});var V=a.establishPakeHandshakeAsInitiator;a=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode({focusRegionId:v,inputSize:w,onChange:function(){K()},onComplete:function(a){var b=T();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"one_time_code",source:b}});g(!0);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SUBMIT");c("promiseDone")(V(a))}});var W=a[0];a=a[1];var X=a.clearNumericInput,Y=a.focusOnInput;a=a.isLoading;n(function(){G.current&&(X(),G.current=!1)},[X]);var Z=c("useVisibilityObserver")({onVisible:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SCREEN"),Y()}}),$=h._("__JHASH__mdY4-jjsr2I__JHASH__");return k.jsxs(k.Fragment,{children:[k.jsx(c("MWXMultiStepDialogHeader.react"),{withCloseButton:!1,withoutBackButton:!0,withoutHeaderBottomBorder:!0}),k.jsx(c("MWXDialogPageLegacy.react"),{callToActionGroupLayout:"expanded",includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,ref:Z,children:k.jsx("div",{className:"x2lwn1j",children:k.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:16,spacing:8,children:[k.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:16,children:k.jsx("div",{className:"xg87l8a",children:k.jsx(c("MWEBQPOneTimeCode.react"),{})})}),k.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:16,children:k.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:$})}),k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",{className:"x1l90r2v x2b8uid",children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body3",children:h._("__JHASH__lzSAd4UfKCU__JHASH__")})})}),k.jsxs(c("MWXColumnItem.react"),{align:"center",children:[k.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:J,children:k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:v,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},W,{disabled:a||f,testid:void 0}))})}),y&&J===D()?k.jsx("div",{className:"xwib8y2",children:k.jsx(c("MWXText.react"),{align:"center",color:"negative",type:"body4",children:h._("__JHASH__47yJJ8U23lB__JHASH__")})}):null]}),f&&k.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:0,children:k.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[k.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:k.jsx(c("MWXSpinner.react"),{color:x?"disabled":"blue",size:12})}),k.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:k.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"body3",children:h._("__JHASH__G3IwntRJlbU__JHASH__")})})]})}),!f&&k.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:8,children:k.jsx(c("MWXLink.react"),{color:x?"primary":"highlight",disabled:f||a,display:"block",onClick:function(){X(),K(),e({onFetchOtcEligibleDevicesError:function(){K(F()),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FETCH_OTC_ELIGIBLE_DEVICES_FAILURE"),P()},onResendCodeFailure:function(){K(E()),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESEND_NOTIFICATION_FAILURE")}}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_VIEW_ALL_DEVICES_CLICK")},rel:"noreferrer",children:k.jsx(c("MWXText.react"),{color:f?"disabled":"highlight",type:"button2",children:h._("__JHASH__UdIx77e_03V__JHASH__")})})})]})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListNuxWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEncryptedBackupsThreadListNux.react").__setRef("MWEncryptedBackupsThreadListNuxWrapper.react"));function a(a){var b=a.children;return i.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return b},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{children:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGroupMembershipListItemWrapper",["MWGroupMembershipListItem"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.tag){case"ParticipantAndContact":return{contact:a.value[1],participant:a.value[0],type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact};case"CommunityMember":return{communityMember:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember};case"ServerSearchResult":return{serverSearchResult:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult};case"BroadcastChannelParticipant":return{participant:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.BroadcastChannelParticipant}}}g.tToRE=a}),98);
__d("MWLSGroupMembershipMemberCellProfilePhoto.react",["fbt","IntlVariations","MWXProfilePhoto.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.linkProps,d=a.name,e=a.onPress,f=a.profilePictureUrl;a=a.showTooltip;b=j.jsx(c("MWXProfilePhoto.react"),{alt:d,"aria-label":h._("__JHASH__5FWHZ8StuMQ__JHASH__",[h._name("name",d,c("IntlVariations").GENDER_UNKNOWN)]),linkProps:b,onPress:e,shape:"circle",size:36,source:{uri:f}});return a?j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:h._("__JHASH__gvt-u-jxLjT__JHASH__",[h._name("name",d,c("IntlVariations").GENDER_UNKNOWN)]),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWLSGroupMembershipMenuQuery$Parameters",["useMWLSGroupMembershipMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("useMWLSGroupMembershipMenuQuery_facebookRelayOperation"),metadata:{},name:"useMWLSGroupMembershipMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWLSGroupMembershipMenu.entrypoint",["JSResourceForInteraction","useMWLSGroupMembershipMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{groupMembershipMenuQueryRef:{parameters:c("useMWLSGroupMembershipMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMenu.entrypoint")};g["default"]=a}),98);
__d("MWLSGroupMembershipMemberCell.react",["fbt","BaseMiddotSeparator.react","GenderConst","I64","Int64Hooks","LSContactBlockedByViewerStatus","LSContactGenderToGenderConst","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","LSThreadBitOffset","LSWhatsAppConnectStatus","MWCMThreadTypes.react","MWGroupMembershipListItem","MWLSContactTypeExactUtils","MWLSGroupMembershipMemberCellProfilePhoto.react","MWLSGroupMembershipMenu.entrypoint","MWPActor.react","MWXCircleButton.react","MWXEntryPointPopoverTrigger.react","MWXIconDots3Horizontal","MWXListCell.react","MWXText.react","MWXTextPairing.react","getFBTSafeGenderFromGenderConst","getLSMediaContactProfilePictureUrl","pageID","promiseDone","react","useMWNavigateToThreadFromGroupMembership","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useMemo,o=h._("__JHASH__3WTOYPxVm2l__JHASH__"),p=h._("__JHASH__J1b76x4xKfs__JHASH__"),q=h._("__JHASH__d3jtAkHct5c__JHASH__"),r="member_list_profile_sheet_source_"+c("pageID");function s(a,b){return n(function(){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult&&a.serverSearchResult.contextLine!=="")return[m.jsx(m.Fragment,{children:a.serverSearchResult.contextLine})];var e=b.filter(function(a){return a!=null});return e.length>0?m.jsx(c("BaseMiddotSeparator.react"),{children:e}):null},[a,b])}function t(a){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact){var b=a.contact,e=a.participant,f=b.blockedByViewerStatus,g=b.contactTypeExact,h=b.gender,i=b.name,j=b.secondaryName,m=b.waConnectStatus,n=e.groupParticipantJoinState,o=e.isSuperAdmin;e=e.subscribeSource;return{gender:c("LSContactGenderToGenderConst")(h),isBlocked:!(k||(k=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:k.equal(n,l.ofNumber(c("LSGroupParticipantJoinState").INVITED)),isSuperAdmin:o===!0,name:i,nonWaAddressable:k.equal(m,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE)),profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(b),secondaryName:j!=null&&d("MWLSContactTypeExactUtils").isIgContact(g)?j:null,subscribeSource:(h=e)!=null?h:null}}if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember){f=a.communityMember;n=f.isBlocked;o=f.name;i=f.nickname;m=f.profilePictureUrl;b=f.subtitle;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(g=n)!=null?g:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(j=i)!=null?j:o,nonWaAddressable:!1,profilePictureUrl:(e=m)!=null?e:"<PLACEHOLDER>",secondaryName:i!=null?o:null,subscribeSource:null,subtitle:b}}if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.BroadcastChannelParticipant){h=a.participant;f=h.isBlocked;n=h.name;g=h.nickname;j=h.profilePictureUrl;m=h.profilePictureUrlFallback;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(e=f)!=null?e:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(i=g)!=null?i:n,nonWaAddressable:!1,profilePictureUrl:(b=(o=j)!=null?o:m)!=null?b:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}h=a.serverSearchResult;f=h.displayName;e=h.profilePicUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:!(k||(k=d("I64"))).equal(h.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:!1,isSuperAdmin:!1,name:f,nonWaAddressable:!1,profilePictureUrl:(g=e)!=null?g:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}function u(a,b,c,e,f,g,i){var j,k,l;j=(j=d("MWGroupMembershipListItem").isAdmin(a))!=null?j:!1;k=(k=d("MWGroupMembershipListItem").isModerator(a))!=null?k:!1;l=(l=d("MWGroupMembershipListItem").isHost(a))!=null?l:!1;a=t(a);var m=a.isInvitedByViewer,n=a.isSuperAdmin,r=a.nonWaAddressable,s=a.subscribeSource;a=a.subtitle;if(b&&r&&!m)return h._("__JHASH__YJ7dDY2F-1___JHASH__").toString();if(b&&!r&&m)return h._("__JHASH__XW-fqo6HqSP__JHASH__").toString();if(s!=null&&n)return c?o:s;if(j&&e)return o;if(k&&g)return p;if(l&&f)return q;return c&&i&&a!=null?a:null}function a(a){var b=a.canMessageUser,e=a.folder,g=a.isMAWParticipantSuperAdmin,j=a.isSecure,n=a.membershipListItem,o=a.onClose,p=a.showAdminIndicator,q=a.showHostIndicator;q=q===void 0?!1:q;var v=a.showInvitedByViewerOnly;v=v===void 0?!1:v;var w=a.showModeratorIndicator,x=a.thread;a=d("MWPActor.react").useActor();var y=d("MWGroupMembershipListItem").contactId(n),z=d("LSThreadBitOffset").has(66,x)&&d("MWCMThreadTypes.react").isStandardCMThread(x.threadType),A=(i||(i=c("useReStore")))(),B=c("useMWNavigateToThreadFromGroupMembership")(),C=t(n),D=C.gender,E=C.isBlocked,F=C.isInvitedByViewer,G=C.isSuperAdmin,H=C.name,I=C.profilePictureUrl,J=C.secondaryName;C=C.subscribeSource;var K=d("MWCMThreadTypes.react").isJoinedCMThread(x.threadType),L=d("Int64Hooks").useCallbackInt64(function(){e!=null&&c("promiseDone")(A.runInTransaction(function(a){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(a),{fbGroupId:e==null?void 0:e.folderId,requestId:r,source:(l||(l=d("LSIntEnum"))).ofNumber(14),targetUserId:y,threadId:x.threadKey})},"readwrite",void 0,void 0,f.id+":316"))},[y,A,e,x.threadKey]);J=s(n,[J,u(n,j,K,p,q,w,z),E?h._("__JHASH__iywW1hlnypb__JHASH__"):null,C!=null&&!G&&!K?C:null]);p=j&&F&&!v;return m.jsx(c("MWXListCell.react"),{addOnEnd:m.jsx(c("MWXEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{groupID:(k||(k=d("I64"))).to_string((q=e==null?void 0:e.fbGroupId)!=null?q:(k||(k=d("I64"))).zero),userID:k.to_string(a)},otherProps:{folder:e,isMAWParticipantSuperAdmin:g,membershipListItem:n,onCloseDialog:o,thread:x},popoverEntryPoint:c("MWLSGroupMembershipMenu.entrypoint"),popoverType:"menu",preloadTrigger:"button",children:function(a,b,d,e,f,g,i){return m.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconDots3Horizontal"),label:h._("__JHASH__-R08aUV4n3s__JHASH__",[h._name("name",H,c("getFBTSafeGenderFromGenderConst")(D))]),onHoverIn:function(a){L(),e==null?void 0:e(a)},onHoverOut:function(){f==null?void 0:f()},onPress:function(){return b()},onPressIn:g,ref:a,size:36,testid:void 0,type:"deemphasized"})}}),addOnEndVerticalAlign:"center",addOnStart:m.jsx(c("MWLSGroupMembershipMemberCellProfilePhoto.react"),{name:H,onPress:function(){B(y,j),o()},profilePictureUrl:I,showTooltip:b}),content:J!=null?m.jsx(c("MWXTextPairing.react"),{body:m.jsx(c("MWXText.react"),{color:p?"disabled":"secondary",type:"body4",children:J}),headline:m.jsx(c("MWXText.react"),{color:p?"disabled":"primary",type:"headline4",children:H}),level:4}):m.jsx(c("MWXText.react"),{align:"start",numberOfLines:1,type:"headline4",children:H}),size:"medium",testid:void 0},k.to_string(y))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMAWGetGroupSuperAdmin",["Int64Hooks","MAWMiActOnActThreadReadyDeferred","cr:9779","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){if(b("cr:9779")!=null&&e){var d=b("cr:9779").sendAndReceive;c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(g,a,"MWLSGroupMembershipMemberList.bs",function(a,b,c){return d("backend","getGroupSuperAdmin",{chatJid:c}).then(function(a){return f(a)})}))}},[g,e,f,a])}g["default"]=a}),98);
__d("MWLSGroupMembershipMemberList.react",["fbt","I64","LSGroupParticipantJoinState","LSIntEnum","LSMessagingThreadTypeUtil","MDSInfiniteScrollList.react","MWDialogTextPairing.react","MWGroupMembershipListItem","MWLSGroupMembershipMemberCell.react","MWMemberListGlimmer.react","MWPActor.react","emptyFunction","react","react-strict-dom","useMAWGetGroupSuperAdmin"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useCallback,n=b.useState,o={noHosts:{alignItems:"x6s0dn4",alignSelf:"xamitd3",display:"x78zum5",flexGrow:"x1iyjqo2",height:"x1egiwwb",justifyContent:"xl56j7k",width:"xdzyupr",$$css:!0}};function a(a){var b=a.disableScroll;b=b===void 0?!1:b;var e=a.doSortParticipants;e=e===void 0?!0:e;var f=a.folder,g=a.hasMore;g=g===void 0?!1:g;var i=a.isLoading;i=i===void 0?!1:i;var p=a.onClose,q=p===void 0?c("emptyFunction"):p;p=a.onLoadMore;p=p===void 0?c("emptyFunction"):p;var r=a.participantsAndContacts,s=a.showAdmodIndicator,t=a.showAdmodsOnly,u=a.showHostsOnly,v=a.showInvitedByViewerOnly,w=a.thread;a=n(c("emptyFunction"));var x=a[0];a=a[1];var y=d("MWPActor.react").isAPPlus();t=t?r.filter(function(a){var b;b=(b=d("MWGroupMembershipListItem").isAdmin(a))!=null?b:!1;a=(a=d("MWGroupMembershipListItem").isModerator(a))!=null?a:!1;return b||a}):v?r.filter(function(a){a=a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact?a.participant.groupParticipantJoinState:(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER);return(k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED))}):u?r.filter(function(a){return(a=d("MWGroupMembershipListItem").isHost(a))!=null?a:!1}):r;r=e?t.slice(0).sort(function(a,b){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact)return a.contact.name.localeCompare(b.contact.name);if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember)return a.communityMember.name.localeCompare(b.communityMember.name);return a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult?a.serverSearchResult.displayName.localeCompare(b.serverSearchResult.displayName):0}):t;var z=d("LSMessagingThreadTypeUtil").isArmadilloSecure(w.threadType);c("useMAWGetGroupSuperAdmin")(w.threadKey,z,a);e=m(function(a){var b=d("MWGroupMembershipListItem").contactId(a);return l.jsx(c("MWLSGroupMembershipMemberCell.react"),{canMessageUser:!y,folder:f,isMAWParticipantSuperAdmin:z&&x!=null?x===(k||(k=d("I64"))).to_string(b):!1,isSecure:z,membershipListItem:a,onClose:q,showAdminIndicator:s,showHostIndicator:s,showInvitedByViewerOnly:v,showModeratorIndicator:s,thread:w},(k||(k=d("I64"))).to_string(b))},[f,y,z,q,s,v,x,w]);return r.length===0&&u&&i===!1&&g===!1?l.jsx(d("react-strict-dom").html.div,{style:o.noHosts,children:l.jsx(c("MWDialogTextPairing.react"),{body:h._("__JHASH__M-jFobtfz3M__JHASH__"),bodyColor:"secondary",headline:h._("__JHASH__7DQH5InZyqq__JHASH__"),textAlign:"center"})}):b?r.map(e):l.jsx(c("MDSInfiniteScrollList.react"),{hasMore:g,isLoading:i,items:r,loadingIndicator:l.jsx(c("MWMemberListGlimmer.react"),{}),onLoadMore:p,renderItem:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWParticipantsForBroadcastChannelUtils",["Int64Hooks","LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure","LSFactory","LSFetchDiscoverableChatParticipantsStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(a,b){var e=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&c("promiseDone")(e.runInTransaction(function(e){return c("LSFetchDiscoverableChatParticipantsStoredProcedure")(c("LSFactory")(e),{cursor:"",maxName:"",source:(i||(i=d("LSIntEnum"))).ofNumber(b),threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":39"))},[e,b,a.threadKey,a.threadType])}function b(){var a=(h||(h=c("useReStore")))();return k(function(){return a.runInTransaction(function(a){return c("LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":59")},[a])}function e(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.discoverable_chat_participants_ranges_v2__generated).getKeyRange(a)},[b,a],f.id+":75")}g.useFetchBroadcastChannelMembers=a;g.useClearBroadcastChannelParticipantsList=b;g.useMWParticipantsForBroadcastChannelRanges=e}),98);
__d("MWQuickPromotionDesktopInterstitialUpsellQuery.graphql",["MWQuickPromotionDesktopInterstitialUpsellQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_OPEN"}],c=[{kind:"Literal",name:"supported",value:"3vaNQ9"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopFeedbackInterstitialRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopFeedbackInterstitialRendererStrategy",abstractKey:null},e={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopInterstitialUpsellRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopInterstitialUpsellRendererStrategy",abstractKey:null},f={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadInterstitialInstructorAfterClassRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadInterstitialInstructorAfterClassRendererStrategy",abstractKey:null},g={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadInterstitialInstructorBeforeClassRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadInterstitialInstructorBeforeClassRendererStrategy",abstractKey:null},h={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadInterstitialLearnerAfterClassRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadInterstitialLearnerAfterClassRendererStrategy",abstractKey:null},i={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadInterstitialLearnerBeforeClassRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadInterstitialLearnerBeforeClassRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionDesktopInterstitialUpsellQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,e,f,g,h,i],storageKey:'renderer_strategy(supported:"3vaNQ9")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWQuickPromotionDesktopInterstitialUpsellQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,f,g,h,i],storageKey:'renderer_strategy(supported:"3vaNQ9")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_OPEN")'}],storageKey:null}]},params:{id:b("MWQuickPromotionDesktopInterstitialUpsellQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionDesktopInterstitialUpsellQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionDesktopInterstitialUpsell.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionDesktopInterstitialUpsellQuery.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.upsellQueryRef;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("MWQuickPromotionDesktopInterstitialUpsellQuery.graphql"),a);a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8879,context_trigger:"messenger_open"});return a==null?null:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:j.jsx(d("CometRelay").MatchContainer,{match:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWUseGlobalMuteUntil",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.notification_settings)},[a],f.id+":21");return b!=null?b.globalMuteUntil:(h||(h=d("I64"))).zero}g.useGlobalMuteUntil=a}),98);
__d("MWXIconBlockCircle",["MWXSvgIcon","SVGIcon","cr:9013","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9013")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXList.react",["cr:6149","cr:6150","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,c){var d=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);if(b("cr:6149")!=null){var e=d;return i.jsx(b("cr:6149"),babelHelpers["extends"]({},a,{children:e,ref:c}))}if(b("cr:6150")!=null){e=d;return i.jsx(b("cr:6150"),babelHelpers["extends"]({},a,{children:e,ref:c}))}return null}a.displayName=a.name+" [from "+f.id+"]";c=i.forwardRef(a);g["default"]=c}),98);
__d("MessengerNotificationsWriter",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="mw_notifications_db",i="users_mute";function j(a,b){return{isMuted:b,userId:a}}function a(a,b){var d,e=self.indexedDB.open(h);e.onupgradeneeded=function(){var b=e.result,c=b.createObjectStore(i,{keyPath:"userId"});c.transaction.oncomplete=function(c){c=b.transaction(i,"readwrite").objectStore(i);c=c.add({isMuted:0,userId:a});c.onsuccess=function(){}}};e.onsuccess=function(){d=e.result;var f=d.transaction([i],"readwrite").objectStore(i),g=f.get(a);g.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to get value in db")};g.onsuccess=function(d){d=babelHelpers["extends"]({},d.target.result,j(a,b));d=f.put(d);d.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to write new mute value to db")};d.onsuccess=function(a){}}};e.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to create db")}}g.updateMute=a}),98);
__d("MinusCircleFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"M459 1080.25h-6a.752.752 0 0 1-.75-.75c0-.412.337-.75.75-.75h6c.413 0 .75.338.75.75s-.337.75-.75.75m-3-6.75c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useMWChatEncryptedBackupsAutoRestoreConsentStep",["MWChatEncryptedBackupsAutoRestoreConsentStepDeferred.react","MWChatEncryptedBackupsDismissalDialogContext","MWChatEncryptedBackupsQPLEvents","react","useLabyrinthLogging","useMWEBFlowSourceContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(){var a=j(c("MWChatEncryptedBackupsDismissalDialogContext")).setIsDismissedDisabled,b=c("useMWEBFlowSourceContext")(),e=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),f=e.startFlow;e=function(e,g){return function(){a(!0),f({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:b()}),e(function(){return i.jsx(c("MWChatEncryptedBackupsAutoRestoreConsentStepDeferred.react"),{onComplete:g})},{withoutBackButton:!0,withoutCloseButton:!0})}};return{onPushAutoRestoreConsentPage:e}}g["default"]=a}),98);