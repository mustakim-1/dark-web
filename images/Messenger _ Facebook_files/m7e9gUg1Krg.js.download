;/*FB_PKG_DELIM*/

__d("FDSDialogPageLegacy.react",["CometProgressRingIndeterminate.react","CometRow.react","CometRowItem.react","TetraButton.react","TetraButtonGroup.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={content:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",$$css:!0},noPaddingBottom:{paddingBottom:"x18d9i69",$$css:!0},textOnlyContent:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};b=j.forwardRef(a);function a(a,b){var d=a.callToActionGroupLayout;d=d===void 0?"default":d;var e=a.includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION;e=e===void 0?!0:e;var f=a.callToActionGroupDirection;f=f===void 0?"backward":f;var g=a.callToActionGroupWrap;g=g===void 0?"none":g;var i=a.children,l=a.hasTextOnlyContent,m=a.primaryCallToAction;a=a.secondaryCallToAction;f=m!=null?j.jsx(c("TetraButtonGroup.react"),{direction:f,expanding:d==="expanded"||a==null,paddingHorizontal:16,primary:{addOnPrimary:m.loading===!0?j.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16}):void 0,disabled:m.disabled===!0||m.loading,label:m.label,linkProps:m.linkProps,onPress:m.onPress,testid:m.testid,type:(m==null?void 0:m.type)==="destructive"?"fdsOverride_negative":"primary"},secondary:a!=null?{disabled:a.disabled,label:a.label,linkProps:a.linkProps,onPress:a.onPress,reduceEmphasis:d==="default",testid:a.testid}:null,wrap:g}):a!=null?j.jsx(c("CometRow.react"),{expanding:!0,paddingHorizontal:16,paddingTop:16,children:j.jsx(c("CometRowItem.react"),{expanding:!0,children:j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},a,{type:"secondary"}))})}):null;return j.jsxs("div",{ref:b,children:[j.jsx("div",{className:e===!0?(h||(h=c("stylex")))([k.content,l===!0&&k.textOnlyContent,l!==!0&&f!=null&&k.noPaddingBottom]):void 0,children:i}),f!=null?j.jsx("div",{className:"x78zum5 x1q0g3np x13a6bvl x1l90r2v",children:f}):void 0]})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWChatEBPinCodeVerifyIndicator.react",["fbt","MWXSpinner.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.isMessenger;return j.jsxs("div",{className:"x6s0dn4 x78zum5 xl56j7k x135pmgq xwib8y2",children:[j.jsx("div",{className:"x1sxyh0",children:j.jsx(c("MWXSpinner.react"),{color:a?"disabled":"blue",size:12})}),j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:h._("__JHASH__sqvt0agiqDI__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b=/^[0-9]*$/;return b.test(a)};a=function(a,b){return a.length>b?!1:g(a)};b=function(a,b){return a.length!==b?!1:g(a)};f.numericCodeIsValid=a;f.numericCodeIsCompleted=b}),66);
__d("MWChatEncryptedBackupsAccessCodeInput.react",["fbt","BaseTextArea.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useRef,m={bigContainer:{marginTop:"x1xmf6yo",paddingStart:"x1m6arcz",paddingEnd:"x13omvei",$$css:!0},containerDefaults:{backgroundColor:"x443n21",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",paddingBottom:"x1g2khh7",paddingTop:"xyamay9",textAlign:"x2b8uid",":hover_backgroundImage":"x10bruuh",$$css:!0},input:{backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",end:"xds687c",left:null,right:null,fontSize:"x1lkfr7t",fontWeight:"x1s688f",height:"x5yr21d",letterSpacing:"xoiqa5b",lineHeight:"x11m8ghp",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"x18d9i69",paddingTop:"x1y1aw1k",position:"x10l6tqk",start:"x17qophe",top:"x1jzctok",width:"xh8yej3","::placeholder_color":"xha3pab",$$css:!0},smallContainer:{marginBottom:"x12nagc",paddingBottom:"x18d9i69",width:"x1s1gtqi",$$css:!0}},n="---- ---- ---- ---- ----\n---- ---- ---- ---- ----",o=40;function a(a){var b=a.autoSubmit,d=b===void 0?!1:b;b=a.disabled;b=b===void 0?!1:b;var e=a.onComplete,f=a.onFocus,g=a.onValueChange,j=a.smallInput,r=a.value;a=l();var s=function(a){return a.toUpperCase().replace(/[^A-Z0-9]/g,"")},t=function(a){a=s(a).substring(0,o);var b=s(r);if(a===b)return;g(a);a.length===o&&d&&(e==null?void 0:e(a))};return k.jsxs("div",{className:(i||(i=c("stylex")))(m.containerDefaults,j?m.smallContainer:m.bigContainer),children:[k.jsx(c("MWXText.react"),{type:"meta3",children:h._("__JHASH__xBAImOW2o36__JHASH__")}),k.jsxs("div",{className:"xwzfr38 xr1yuqi xkrivgy x4ii5y1 x1gryazu x1n2onr6 x1hfn5x7",children:[k.jsx("span",{style:{fontFamily:"var(--font-family-code)"},children:k.jsx(c("BaseTextArea.react"),{disabled:b,maxRows:2,onFocus:f,placeholder:n,readOnly:!0,suppressFocusRing:!0,unresizable:!0,value:r===""?n:q(r),xstyle:m.input})}),k.jsx("span",{style:{fontFamily:"var(--font-family-code)"},children:k.jsx(c("BaseTextArea.react"),{disabled:b,maxRows:2,onFocus:f,onValueChange:t,ref:a,suppressFocusRing:!0,testid:void 0,unresizable:!0,value:r===""?r:p(r),xstyle:m.input})})]})]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){a=a.split("");var b=0,c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.length===24?c.push("\n"):b>0&&b%4===0&&c.push(" ");c.push(f);b+=1}return c.join("")}function q(a){var b=a.split("");return n.split("").map(function(a){if(a===" "||a==="\n"||b.length===0)return a;else{b.pop();return" "}}).join("")}g["default"]=a}),226);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inputWrapperErrorOnly:{paddingBottom:"x18d9i69",$$css:!0},outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function a(a){var b=a.children,d=a.error;a=a.inputSize;a=a===void 0?"large":a;var e=a==="large"?k.outterWrapper:k.outterWrapperSmall;return j.jsx(c("MWXColumn.react"),{xstyle:e,children:j.jsxs(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:a==="large"?20:0,paddingTop:0,children:[j.jsx("div",{className:(h||(h=c("stylex")))(d!=null&&[k.inputWrapperErrorOnly]),children:b}),d!=null?j.jsx("div",{className:"x1o1nzlu x1y1aw1k x2b8uid",children:j.jsx(c("MWXText.react"),{color:"negative",testid:void 0,type:"body4",children:d})}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState,n=c("gkx")("24058"),o={input:{height:"x5yr21d",opacity:"xg01cxk",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function a(a){var b=a.extraProps.setFocus;a=a.props;var e=a["aria-label"],f=a.disabled,g=f===void 0?!1:f;a.enableMasking;var h=a.focusRegionId;f=a.inputMode;var p=a.onChange,q=a.onCompletionChange,r=a.size,s=a.testid;a=a.value;var t=m(a.length===r),u=t[0],v=t[1],w=l(null),x=l(g);t="mw-numeric-code-input-prevent-composer-focus-steal";var y=j(function(a){var b=d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,r);p(a);q!=null&&b!==u&&(v(b),q(b))},[u,p,q,r]);k(function(){var a=function(a){a.preventDefault()},b=w.current;b==null?void 0:b.addEventListener("selectstart",a);return function(){b==null?void 0:b.removeEventListener("selectstart",a)}},[]);k(function(){g&&b(!1)},[g,b]);k(function(){x.current!==g&&(x.current=g,g||d("FocusRegion.react").focusRegionById(h,d("focusScopeQueries").tabbableScopeQuery))},[g,h]);return i.jsx(c("BaseTextInput.react"),{"aria-label":e,autoComplete:"one-time-code",disabled:g,id:s!=null?s+"-"+t:t,inputMode:f,maxLength:r,onBlur:function(){b(!1)},onFocus:function(){b(!0)},onKeyDown:function(a){var b=a.keyCode;(b===37||b===38||b===39||b===40)&&(a.preventDefault(),a.stopPropagation())},onValueChange:function(a){a=a.toString();d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,r)&&y(a)},ref:w,testid:void 0,value:a,xstyle:[o.input,n&&o.testOpacity]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["CometRow.react","CometRowItem.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={focusRing:{boxShadow:"x18bame2",outline:"xvetz19 x1a2a7pz",$$css:!0},input:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}};function a(a){var b=a.color,d=b===void 0?"primary":b;b=a.disabled;var e=b===void 0?!1:b;b=a.enableMasking;var f=b===void 0?!1:b,g=a.hasFocus;b=a.inputSize;var i=b===void 0?"large":b,n=a.size;b=a.testid;b=b===void 0?"numeric-renderer":b;var o=a.value,p=function(a){return(o.length===a||o.length>a&&a===n-1)&&g};b=l(Array(n).fill(""));a=b[0];var q=b[1];k(function(){q(Array(n).fill().map(function(a,b){return o[b]!=null?f?"\u25cf":o[b]:""}))},[f,n,o]);return j.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:a.map(function(a,b){return j.jsx(c("CometRowItem.react"),{xstyle:m.inputBox,children:j.jsx("div",{className:(h||(h=c("stylex")))(m.input,i==="small"&&m.inputSmall,i==="tiny"&&m.inputTiny,d==="primary"&&m.inputColorPrimary,d==="secondary"&&m.inputColorSecondary,p(b)&&m.focusRing),"data-testid":void 0,children:f?j.jsx(c("MWXText.react"),{color:e?"disabled":"primary",type:"headlineEmphasized4",children:e?"\u25cf":a}):j.jsx(c("MWXText.react"),{color:e?"disabled":"primary",type:"headlineEmphasized1",children:a})})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g.MWChatEncryptedBackupsNumericCodeInputRenderer=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=a.enableMasking,e=a.inputSize,f=a.size,g=a.testid;g=a.value;var h=j(!1),k=h[0];h=h[1];return i.jsxs("div",{className:"x1n2onr6",children:[i.jsx(d("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:a.color,disabled:a.disabled,enableMasking:b,hasFocus:k,inputSize:e,size:f,testid:void 0,value:g}),i.jsx(c("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:{setFocus:h},props:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWDialogContentTypeValues",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("23219")?4:3;b=c("gkx")("23219")?"headlineEmphasized4":"headlineEmphasized2";d=c("gkx")("23219")?"body4":"body3";e=c("gkx")("23219")?"bodyLink4":"bodyLink3";f=c("gkx")("23219")?"meta4":"meta3";g.textPairingLevel=a;g.textHeadlineType=b;g.textBodyType=d;g.textBodyLinkType=e;g.textMetaType=f}),98);
__d("MWDialogText.react",["MWDialogContentTypeValues","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.type;e=e===void 0?"body":e;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","type"]);switch(e){case"bodyLink":return i.jsx(c("MWXText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textBodyLinkType},a,{children:b}));case"headlineEmphasized":return i.jsx(c("MWXText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textHeadlineType},a,{children:b}));case"meta":return i.jsx(c("MWXText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textMetaType},a,{children:b}))}return i.jsx(c("MWXText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textBodyType},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.children,d=a.source;a=j(function(){return{source:d}},[d]);return i.jsx(c("MWEBFlowSourceContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBPinCodeSize",[],(function(a,b,c,d,e,f){"use strict";a=6;f.EB_PIN_CODE_SIZE=a}),66);
__d("MWEBSyncIcon.react",["ix","CometImageFromIXValue.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("gkx")("23433");b=k.forwardRef(a);function a(a,b){var d=a.alt;a=a.xstyle;var e=l?h("414642"):h("414641");d=k.jsx(c("CometImageFromIXValue.react"),{alt:d,ref:b,source:e});return a==null?d:k.jsx("div",{className:(i||(i=c("stylex")))(a),children:d})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWXCardedDialog.react",["BaseHeadingContextWrapper.react","cr:12313","cr:278","cr:6308","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,d){var e=a.callToActionGroupDirection;e=e===void 0?"backward":e;var f=a.callToActionGroupLayout;f=f===void 0?"default":f;var g=a.callToActionGroupWrap;g=g===void 0?"none":g;var h=a.children,j=a.disableHeaderDivider,k=a.hasTextOnlyContent,l=a.includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION;l=l===void 0?!0:l;var m=a.primaryCallToAction,n=a.secondaryCallToAction,o=a.titleWithEntities;a=babelHelpers.objectWithoutPropertiesLoose(a,["callToActionGroupDirection","callToActionGroupLayout","callToActionGroupWrap","children","disableHeaderDivider","hasTextOnlyContent","includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION","primaryCallToAction","secondaryCallToAction","titleWithEntities"]);if(b("cr:278")&&b("cr:6308"))return i.jsx(b("cr:278"),babelHelpers["extends"]({},a,{disableHeaderDivider:j,ref:d,titleWithEntities:o,children:i.jsx(b("cr:6308"),{callToActionGroupDirection:e,callToActionGroupLayout:f,callToActionGroupWrap:g,hasTextOnlyContent:k,includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:l,primaryCallToAction:m,secondaryCallToAction:n,children:i.jsx(c("BaseHeadingContextWrapper.react"),{children:h})})}));return b("cr:12313")?i.jsx(b("cr:12313"),babelHelpers["extends"]({},a,{callToActionGroupDirection:e,callToActionGroupWrap:g,hasTextOnlyContent:k,primaryCallToAction:m,ref:d,secondaryCallToAction:n,children:h})):null}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("MWXDialogPageLegacy.react",["cr:6308","cr:6309","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){var d=a.callToActionGroupDirection;d=d===void 0?"backward":d;var e=a.callToActionGroupLayout,f=a.children,g=a.includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION;g=g===void 0?!0:g;a=babelHelpers.objectWithoutPropertiesLoose(a,["callToActionGroupDirection","callToActionGroupLayout","children","includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION"]);if(b("cr:6308"))return i.jsx(b("cr:6308"),babelHelpers["extends"]({callToActionGroupDirection:d,callToActionGroupLayout:e,includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:g},a,{ref:c,children:f}));return b("cr:6309")?i.jsx(b("cr:6309"),babelHelpers["extends"]({callToActionGroupDirection:d,ref:c},a,{children:f})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXMultiStepDialog.react",["cr:12314","cr:369","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,c){a.iconCssSelectorId;a.withDeprecatedStyles;a.withoutHeaderBottomBorder;var d=babelHelpers.objectWithoutPropertiesLoose(a,["iconCssSelectorId","withDeprecatedStyles","withoutHeaderBottomBorder"]);if(b("cr:369")!=null)return i.jsx(b("cr:369"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:12314")!=null?i.jsx(b("cr:12314"),babelHelpers["extends"]({},d,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=i.forwardRef(a);g["default"]=c}),98);
__d("useMWChatEncryptedBackupsNumericCode",["FocusRegion.react","MWChatEncrypedBackupsNumericCodeValidation","asyncToGeneratorRuntime","focusScopeQueries","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useState;function a(a){var e=a.checkPreviouslyInsertedCode,f=a.clearInputOnComplete,g=f===void 0?!1:f;f=a.enableMasking;var h=a.focusRegionId,j=a.inputSize,k=a.onChange,l=a.onComplete;a=i(!1);var m=a[0],n=a[1];a=i(!0);var o=a[0],p=a[1];a=i("");var q=a[0],r=a[1];a=function(a){p(!a)};var s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,j)){if(e!=null){var b=e.onCodeMismatch,c=e.previouslyInsertedCode;c=c===a;if(!c){b();return}}p(!0);n(!0);try{yield l(a),g&&r("")}catch(a){r("")}finally{n(!1)}}});return function(b){return a.apply(this,arguments)}}();return[{disabled:m,enableMasking:f,focusRegionId:h,onChange:function(a){var b=function(){d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,j)&&(r(a),k==null?void 0:k(a),c("promiseDone")(s(a)))};b()},onCompletionChange:a,size:j,value:q},{clearNumericInput:function(){return r("")},disabled:o,focusOnInput:function(){d("FocusRegion.react").focusRegionById(h,d("focusScopeQueries").tabbableScopeQuery)},isLoading:m,onPress:function(){c("promiseDone")(s(q))}}]}g.useMWChatEncryptedBackupsNumericCode=a}),98);
__d("useMWChatEncryptedBackupsPinCodeRestore",["CometRelay","EBSMGating","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBODSEntityName.enum","MWEBPinCodeSize","MWEBUpsellDismissedEnum.facebook","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","asyncToGeneratorRuntime","gkx","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState,o=c("requireDeferred")("MWEBUseLocalStorage").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),p=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),q=c("requireDeferred")("mwEBGetPINSecretFromVesta").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),r=c("requireDeferred")("updateUpsellsStateInRelayStore").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),s=c("JSResourceForInteraction")("MWEncryptedBackupsHsmFleetMigrationGated").__setRef("useMWChatEncryptedBackupsPinCodeRestore");function a(a){var e=a.clientID,f=a.focusRegionId,g=a.onSubmitPin,i=a.onSubmitPinFailure,t=a.onVestaComplete,u=d("CometRelay").useRelayEnvironment();a=n(!1);var v=a[0],w=a[1];a=n(!1);var x=a[0],y=a[1];a=n(!1);var z=a[0],A=a[1],B=m(!1);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var C=a.startFlow,D=(h||(h=c("useReStore")))(),E=c("useMWEBFlowSourceContext")();a=n(!1);var F=a[0],G=a[1],H=k(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;a=c("useMWChatEncryptedBackupsAddDevice")({hsmFleetMigrationResetPIN:j(function(a){c("promiseDone")(s.load().then(function(b){b({db:D,environment:u,pinCode:a,startFlow:C})}))},[D,u,C]),onComplete:j(function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");p.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:D,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});o.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;c("gkx")("2249")&&b(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)});d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});t();G(!1)},[D,t]),onFailure:j(function(a){i==null?void 0:i(),B.current=!0,y(!0),G(!1),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("promiseDone")(r.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},[u,i,H]),onInvalidRecoveryCode:j(function(){i==null?void 0:i(),B.current=!0,y(!0),G(!1),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"pin_code_restore_wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_wrong_recovery_code"),c("promiseDone")(r.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},[u,i,H])});var I=a[0];a=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode({enableMasking:!0,focusRegionId:f,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onChange:function(){y(!1),A(!1),w(!1)},onComplete:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield q.load());yield b({addDevice:I,clientID:e,environment:u,getSourceFromContext:E,onSubmitPin:g,onSubmitPinFailure:i,onVestaSecretFetch:function(){c("promiseDone")(r.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED})}),H==null?void 0:H(!0)},pinCode:a,setIsInProgress:G,setIsPinCodeIncorrect:w,setIsVestaError:A,startFlow:C})});function f(b){return a.apply(this,arguments)}return f}()});f=a[0];a=a[1];var J=a.clearNumericInput,K=a.disabled;a=a.focusOnInput;l(function(){B.current&&(J(),B.current=!1)},[J]);return{focusOnInput:a,inputProps:f,isDisabled:(a=K)!=null?a:!1,isInProgress:F,isLabyrinthError:x,isPinCodeIncorrect:v,isVestaError:z}}g.useMWChatEncryptedBackupsPinCodeRestore=a}),98);
__d("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse",selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],type:"VestaGetUserInfoResponse",abstractKey:null};e.exports=a}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo",["CometRelay","useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=a.vestaGetUserInfoResponse$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"),a);return{attemptsRemaining:(c=a==null?void 0:a.attempts_remaining)!=null?c:null,isRegistered:(c=a==null?void 0:a.is_registered)!=null?c:null,loginTimeoutRemainingSecs:(c=a==null?void 0:a.login_timeout_remaining_secs)!=null?c:null}}g["default"]=a}),98);